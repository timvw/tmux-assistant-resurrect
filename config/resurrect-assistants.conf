# tmux-assistant-resurrect — reference tmux configuration
#
# This file is a TEMPLATE for manual setup. It is NOT sourced automatically.
#
# If you installed via TPM (recommended), this file is not needed — the
# .tmux plugin file handles all settings automatically.
#
# If you used `just install`, settings are written directly to ~/.tmux.conf
# and this file is not sourced.
#
# For manual setup, copy the lines below into your ~/.tmux.conf and replace
# /path/to/tmux-assistant-resurrect with your actual clone path.

# --- TPM (Tmux Plugin Manager) ---
# Install TPM first: git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# --- tmux-resurrect settings ---
# Restore pane contents (captures visible text in panes)
set -g @resurrect-capture-pane-contents 'on'

# Do NOT add assistants to @resurrect-processes — that would launch bare
# binaries (without session IDs) and the post-restore hook would then type
# resume commands into the running TUI. The hook handles all resuming.

# Save/restore hooks for assistant session tracking
# NOTE: replace /path/to/tmux-assistant-resurrect with your actual clone path.
set -g @resurrect-hook-post-save-all "bash '/path/to/tmux-assistant-resurrect/scripts/save-assistant-sessions.sh'"
set -g @resurrect-hook-post-restore-all "bash '/path/to/tmux-assistant-resurrect/scripts/restore-assistant-sessions.sh'"

# --- tmux-continuum settings ---
# Auto-save every 5 minutes
set -g @continuum-save-interval '5'

# Auto-restore when tmux server starts
set -g @continuum-restore 'on'

# --- Initialize TPM (must be last line in tmux.conf) ---
# run '~/.tmux/plugins/tpm/tpm'
